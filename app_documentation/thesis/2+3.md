## Frontend Tools and Services

#### 1 User-Centered Design

多角色用户需求分析： 医疗评估系统面向6类不同用户群体：验光师、患者和医生...每类用户有不同的专业需求和使用场景。我们采用用户中心设计方法，通过与医疗专业人员的定期沟通，确保界面设计符合临床实际工作流程。

医疗伦理考量： 考虑到医疗数据的敏感性，我们严格遵循医疗保密原则。不记录任何用户的信息。哪怕是填写PDF表格也只自动补充症状，而不记忆任何关于患者的个人信息。

#### 2 Declarative Configuration with JSON  基于JSON的声明式配置

1. 配置化开发需求：在医疗评估系统开发中，我们需要处理包含N个问题的复杂决策流程，最终导向N种不同的医疗建议。最初，我们使用Lark（飞书）手绘流程图来梳理医疗决策逻辑，这种可视化方法有助于团队理解和讨论评估流程。然而，手绘流程图存在明显局限：难以精确表达复杂的条件判断，无法直接被程序解析执行，且修改和版本管理困难。因此，我们选择将决策逻辑进一步整理为JSON配置文件。这种配置驱动的开发方法将医疗业务逻辑从代码实现中分离，使医疗专家能够直接审核决策规则，而开发团队专注于构建执行引擎
2. 选择理由：相比手绘流程图，JSON格式提供了结构化且精确的逻辑表达方式。JSON的树状结构天然适合表达医疗评估的层次化决策过程，其键值对模式能够清晰定义每个问题的分支条件和跳转路径。作为标准化的数据格式，JSON既保持了人类可读性，又具备机器可解析的特性，弥补了可视化流程图与程序代码之间的鸿沟。JSON格式支持完善的工具生态，包括语法验证、格式化和版本控制，为医疗决策逻辑的管理提供了技术保障。此外，标准化格式支持自动化测试，验证所有评估路径的正确性，版本控制系统完整记录每次逻辑变更，满足医疗行业对决策可追溯性的严格要求，为患者安全提供技术保障。
3. 实现策略：前端采用JSON配置驱动的决策引擎架构，将评估逻辑与用户界面完全分离。当用户回答评估问题时，前端引擎读取JSON配置中的相应规则，动态计算下一步操作。这种数据驱动的设计使得前端组件只需专注于界面渲染和用户交互，所有医疗决策逻辑都由JSON配置文件统一管理。通过TypeScript接口约束，确保配置结构的类型安全和程序的稳定运行。



#### 3 Prototyping with Figma

需求：在开发前需要通过可视化原型验证界面可用性

选择理由：实时协作，交互原型使医疗专家能够直观体验并提供反馈，Figma与前端开发的良好集成能够直接导出CSS样式规范

实现策略：采用迭代式设计方法，为每个用户角色单独创建完整的Figma原型。针对验光师、患者和全科医生分别设计差异化的界面布局：例如验光师界面强调。。。患者界面强调。。。

#### 4 Programming language

1. React: 选择React因为它能让我们把复杂的医疗评估界面拆分成小块来管理。比如每个评估问题都可以做成一个独立的组件，验光师、患者、GP三种角色的页面可以共用相同的问题组件，只是样式稍有不同。React的数据流向是单向的，这意味着当用户选择答案时，数据变化的路径很清楚，不会出现"不知道数据在哪里被改了"的混乱情况。另外React有很多现成的工具包，比如Redux Toolkit和React Router，这些都能直接配合使用，省去了很多集成的麻烦。

2. TypeScript:我们在JavaScript基础上加了TypeScript，主要是为了避免数据类型错误。在医疗系统中，如果把"患者有头痛"错误地传成了数字而不是布尔值，可能会导致错误的医疗建议。TypeScript会在写代码时就告诉你"这里类型不对"，而不是等到用户使用时才发现问题。这样能在医疗数据处理中避免很多低级错误，保证传递给决策树的数据是正确的。

#### 5 Redux Toolkit for State Management（可选）

1. 配置化开发需求：最初，我们使用Lark（飞书）手绘流程图来梳理医疗决策逻辑，这种可视化方法有助于团队理解和讨论评估流程。然而，手绘流程图存在明显局限：难以精确表达复杂的条件判断，无法直接被程序解析执行，且修改和版本管理困难。因此，我们选择将决策逻辑进一步整理为JSON配置文件。

2. 选择理由：相比手绘流程图，JSON格式提供了结构化且精确的逻辑表达方式。其键值对模式能够清晰定义每个问题的分支条件和跳转路径。此外，标准化格式支持自动化测试，验证所有评估路径的正确性，版本控制系统完整记录每次逻辑变更。
3. 实现策略：前端采用JSON配置驱动的决策引擎架构，将评估逻辑与用户界面完全分离。当用户回答评估问题时，前端引擎读取JSON配置中的相应规则，动态计算下一步操作。这种数据驱动的设计使得前端组件只需专注于界面渲染和用户交互，所有医疗决策逻辑都由JSON配置文件统一管理。通过TypeScript接口约束，确保配置结构的类型安全和程序的稳定运行。

```
用户选择"有头痛" 
→ RTK保存答案 {hasHeadache: true}
→ RTK通知："答案更新了！"
→ 决策树引擎被触发
→ 引擎读取JSON: "如果hasHeadache=true，跳转到Q2"
→ 引擎返回："下一题是Q2"
→ 系统跳转到Q2页面用户答题 → RTK状态更新 → 决策树计算 → 
RTK Query获取下一题 → 组件重新渲染
```





## Backend Tools and Services

#### 1 Programming language

我们选择Java+Spring Boot构建医疗评估系统的后端服务，Spring Boot的自动配置功能简化了开发复杂度，让我们能快速搭建支持题库管理、用户答题记录的API服务。同时Java丰富的文档处理库（如Apache POI）支持我们实现评估完成后自动生成填写症状的报告下载功能。

#### 2 Data Storage and Management

采用轻量化的数据存储策略，后端主要负责题库内容的管理、基础统计数据收集和图片元数据信息存储。

#### 3 API

后端提供RESTful API支持前端React应用的所有数据交互需求，主要包括动态获取题库内容、提交用户评估答案、Guide界面的医学示例图片管理、查询历史评估记录和下载个性化报告等功能。API设计遵循前后端分离原则，与前端的JSON决策树配合工作：前端决策树确定评估逻辑，后端API提供数据支持和内容管理。

#### 4 Deployment and maintenance

具体怎么做暂时不确定，是云服务还是静态网站托管平台？